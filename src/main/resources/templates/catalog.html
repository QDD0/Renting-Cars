<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarHut - Каталог автомобилей</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <link rel="stylesheet" th:href="@{/css/catalogStyle.css}"/>
    <script th:src="@{/js/scripts.js}" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
          rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
<header>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h1>CarHut</h1>
            </div>

            <button class="menu-toggle" aria-label="Открыть меню">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <ul class="menu-bar glass-menu">
                <li><a th:href="@{/}"><i class="fas fa-home"></i> Главная</a></li>
                <li><a th:href="@{/catalog}"><i class="fas fa-car"></i> Каталог</a></li>
                <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Корзина</a></li>
                <li><a th:href="@{/about}"><i class="fas fa-info-circle"></i> О нас</a></li>
                <li><a th:href="@{/profile}"><i class="fas fa-user"></i> Профиль</a></li>
            </ul>
        </div>
    </nav>

    <div class="mobile-menu-container">
        <ul class="mobile-menu">
            <li><a th:href="@{/}"><i class="fas fa-home"></i> Главная</a></li>
            <li><a th:href="@{/catalog}"><i class="fas fa-car"></i> Каталог</a></li>
            <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Корзина</a></li>
            <li><a th:href="@{/about}"><i class="fas fa-info-circle"></i> О нас</a></li>
            <li><a th:href="@{/profile}"><i class="fas fa-user"></i> Профиль</a></li>
        </ul>
    </div>

    <div class="catalog-hero">
        <div class="catalog-hero-content">
            <h1>Найдите свой идеальный автомобиль</h1>
            <p>Большой выбор новых и подержанных автомобилей</p>
        </div>
    </div>
</header>

<main class="container">
    <section class="search-section section-padding">
        <div class="search-container">
            <h2 class="section-title">Поиск автомобилей</h2>
            <form class="search-form">
                <div class="search-fields">
                    <div class="search-field">
                        <label for="car-type"><i class="fas fa-car"></i> Тип</label>
                        <select id="car-type" name="car-type">
                            <option value="">Все типы</option>
                            <option value="new">Новые</option>
                            <option value="used">Подержанные</option>
                        </select>
                    </div>

                    <div class="search-field">
                        <label for="makes"><i class="fas fa-tag"></i> Марка</label>
                        <select id="makes" name="makes">
                            <option value="">Все марки</option>
                            <option value="toyota">Toyota</option>
                            <option value="ford">Ford</option>
                            <option value="bmw">BMW</option>
                            <option value="audi">Audi</option>
                            <option value="mercedes">Mercedes</option>
                        </select>
                    </div>

                    <div class="search-field">
                        <label for="models"><i class="fas fa-cog"></i> Модель</label>
                        <select id="models" name="models">
                            <option value="">Все модели</option>
                            <option value="camry">Camry</option>
                            <option value="f-150">F-150</option>
                            <option value="x5">X5</option>
                            <option value="a4">A4</option>
                        </select>
                    </div>

                    <div class="search-field">
                        <label for="city"><i class="fas fa-city"></i> Город</label>
                        <select id="city" name="city">
                            <option value="">Любой</option>
                            <option value="msc">Москва</option>
                            <option value="sch">Сочи</option>
                            <option value="spb">Питер</option>
                            <option value="rs">Ростов</option>
                        </select>
                    </div>
                    <button type="submit" class="search-button">
                        <i class="fas fa-search"></i>
                        <span>Найти</span>
                    </button>
                </div>
            </form>
        </div>
    </section>

    <div th:if="${cars != null and !cars.empty}">
        <div class="cars-grid">
            <div th:each="car : ${cars}" class="car-card">
                <img th:src="@{'/uploads/' + ${car.file_main_view}}"
                     th:alt="${car.mark} + ' ' + ${car.model}"
                     class="car-image">
                <div class="car-info">
                    <div class="car-header">
                        <h3 class="car-title" th:text="${car.mark} + ' ' + ${car.model}">Марка и модель</h3>
                    </div>
                    <div class="car-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <span th:text="${car.city}">Город</span>
                    </div>
                    <div class="car-price"
                         th:text="'₽' + ${#numbers.formatDecimal(car.price, 0, 'COMMA', 0, 'POINT')}"></div>
                </div>
            </div>
        </div>
    </div>

    <div th:unless="${cars != null and !cars.empty}" class="empty-state">
        <img src="https://cdn-icons-png.flaticon.com/512/2748/2748558.png" alt="Нет автомобилей">
        <h2>Автомобилей пока нет</h2>
        <p>Будьте первым, кто добавит автомобиль в галерею!</p>
        <a href="/upload" class="upload-btn">Добавить первый автомобиль</a>
    </div>
</main>
</body>
</html>